<!DOCTYPE html>
<html>
<head>
    <script type = "text/javascript">
		function test() {            
			var div = document.getElementById("renderer");
			var width = parseInt(div.style.width);
			var height = parseInt(div.style.height);

			var Vmap = new Object();
			Vmap.Layer = function(width, height,maxLng, minLng, maxLat, minLat) {
				this.width = width;
				this.height = height;
				this.maxLng = maxLng;
				this.minLng = minLng;
				this.maxLat = maxLat;
				this.minLat = minLat;
			};
			// Vmap.Geometry = function() {
			// 	this.bounds = null;//Geometry外接矩形
			// };
			Vmap.Point = function(x, y) {
				this.x = x;
				this.y = y;
			};

			function convert2XY(width, height, lng, lat, maxLng, minLng, maxLat, minLat){
				var scaleX = ((maxLng - minLng)*3600) / height; 
				var scaleY = ((maxLat - minLat)*3600) / width; 
				var x = (lng - minLng)*3600/scaleX;
				var y = (maxLat - lat)*3600/scaleY;
				return {x: x, y: y};
			}

			var canvasTag = document.createElement("canvas");
			var canvas = div.appendChild(canvasTag);

			canvas.width = width;
			canvas.height = height;
			var context = canvas.getContext("2d");

			function drawLine(point1,point2){
				var layer = new Vmap.Layer(width,height,135,73,53,3.5);
				var xy1 = convert2XY(layer.width,layer.height,point1.x,point1.y,layer.maxLng,layer.minLng,layer.maxLat,layer.minLat);

				var xy2 = convert2XY(layer.width,layer.height,point2.x,point2.y,layer.maxLng,layer.minLng,layer.maxLat,layer.minLat);

				context.moveTo(xy1.x, xy1.y);
				context.lineTo(xy2.x, xy2.y);
				context.stroke();
			}
			var point1 = new Vmap.Point(90,30);
			var point2 = new Vmap.Point(116,40);
			drawLine(point1,point2);
		}        
    </script>
</head>
<body>
    <div style="width:500px; height:500px; border:1px solid black" id="renderer">&nbsp;</div>
    <p onclick="test()">显示</p>
</body>
</html>